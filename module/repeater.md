<link rel="stylesheet" href="/asset/style.css" />

# 问答
<p><span class="span-admin">群管理员</span>  <span class="span-group">群主</span>  <span class="span-bot-admin">Bot 管理员</span>  <span class="span-bot-helper">Bot 协助者</span></p>


> 警告  
> 禁止使用此功能传播任何违反 [使用条款](/clause.md) 的内容。

## 功能

* 无数据库的轻量问答插件
* 支持模糊问答
* 支持特殊回复
* 自动转译 CQ 码
* 支持图片回复
* 支持指令大杂烩

## 问答教学
<p><span class="span-friend">私聊</span> <span class="span-group">群聊</span></p>

```
[模糊|全局|正则|@] 问 <内容> 答 <答语>
```

* 设置词条命令由 `问句` 和 `答句` 组成。设置之后, 收到 `消息` 时触发。并非所有人都可以设置词条, 详见 权限 。
* 格式 `[ 模糊 | 全局 | 正则 | @] 问···答···`
    * `模糊 | 正则` 匹配模式中可任选一个或不选, 不选表示全匹配
    * 全局, @ 可与以上匹配模式组合使用

```
问
123
答
456
```
* 教学中可以使用换行
* 问答句中的首首尾空白字符会被自动忽略
* 私聊好友个人也可以建立属于自己的词库, 可以实现类似备忘录的功能

## 问句选项

* `问 <内容> 答 <答语>` 全匹配模式,  **必须全等** 才能触发答语
* `模糊问 <内容> 答 <答语>` 当 **问句出现在消息里** 时则会触发答语
* `正则问 <内容> 答 <答语>` 当 **问句被消息正则捕获** 时则会匹配
    * 例如：正则问[他你]不理 答 你被屏蔽了
    |  消息  | 回复 |
    |  ----  | ---- |
    | 他不理  | 你被屏蔽了 |
    | 他不理我 | 你被屏蔽了|
    | 你不理我 | 你被屏蔽了|
* `全局问 <内容> 答 <答语>`, 在所有群聊和私聊中都可以触发, 可以和以上几种组合使用
    * 例如: `全局模糊问 晚安 答 不准睡`
* `@问 <内容> 答 <答语>`, 只有被@、被回复时或在私聊中才会除法，可以和以上几种组合使用
    * 例如: `全局模糊@问 晚安 答 不准睡`
* 问句可包含 `at` 即在 QQ 聊天中手动 at 群友
    * 建议只在 `问 <内容> 答 <答语>` 中使用
    * 例如: `问 @XXX 答 老婆!`

## 答句选项

* `/at` + `qq号`, 当答句中包含`/at` + `qq号`时将会被替换为@某人
    * 例如: `问 群主在吗 答 /at XXX 在吗`
* `/self`, 当答句中包含`/self`时将会被替换为发送者的群昵称
    * 例如: `问 我是谁 答 你是XXX` (群昵称为: XXX)
* `/atself`, 当答句中包含`/atself`时将会被替换为 @发送者
    * 例如: `问 谁是XXX 答 @XXX`

## 删除词条

* 删除`[模糊|全局|正则|@]词条` + 需要删除的`问句`
    * 例如: `删除全局模糊@词条 你好`
* 以下指令需要结合命令前缀，这里为`.`
* 删除词库: 删除当前群聊/私聊词库
    * 例如: `.删除词库`  
* 删除全局词库  
    * 例如: `.删除全局词库`
* 删除全部词库  
    * 例如: `.删除全部词库`

## 查询词条

* 超管查询指定词库
* 查询 [群|用户]<id>[全局][模糊|正则]词库
    * 例如：`查询群123模糊词库` `查询用户114514词库` ` 查询全局词库`
* 查询指定词库
    * `查询[模糊|正则]词库`
    * 例如 `查询词库`

## 权限
|              | 群主 | 群管理 | 私聊好友 | 超级用户 |
| ------------ | ---- | ------ | -------- | -------- |
| 增删词条     | O    | O      | O        | O        |
| 增删全局词条 | X    | X      | X        | O        |
| 删除词库     | O    | O      | O        | O        |
| 删除全局词库 | X    | X      | X        | O        |
| 删除全部词库 | X    | X      | X        | O        |